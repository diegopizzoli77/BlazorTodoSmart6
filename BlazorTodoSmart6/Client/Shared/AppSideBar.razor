@using Common.Client.UI.Component;
@using BlazorTodoSmart.UI.Component;
@inject Blazored.LocalStorage.ILocalStorageService localStorage
<!-- App Sidebar -->
<div class="modal fade panelbox panelbox-left" id="sidebarPanel" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-body p-0">

                <!-- profile box -->
                <ProfileBoxComponent AvatarImage="@AvatarImage" UserName="@UserName" />
                <!-- * profile box -->

                <ul class="listview flush transparent no-line image-listview mt-2">
                    @*<li>
                        <NavLink class="item" href="Test">
                            <div class="icon-box bg-primary">
                                <ion-icon name="home-outline"></ion-icon>
                            </div>
                            <div class="in">
                                Test
                            </div>
                        </NavLink>
                    </li>
                    <li>
                        <a href="app-components.html" class="item">
                            <div class="icon-box bg-primary">
                                <ion-icon name="cube-outline"></ion-icon>
                            </div>
                            <div class="in">
                                Components
                            </div>
                        </a>
                    </li>
                    <li>
                        <a href="app-pages.html" class="item">
                            <div class="icon-box bg-primary">
                                <ion-icon name="layers-outline"></ion-icon>
                            </div>
                            <div class="in">
                                <div>Pages</div>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a href="page-chat.html" class="item">
                            <div class="icon-box bg-primary">
                                <ion-icon name="chatbubble-ellipses-outline"></ion-icon>
                            </div>
                            <div class="in">
                                <div>Chat</div>
                                <span class="badge badge-danger">5</span>
                            </div>
                        </a>
                    </li>*@
                    <li>
                        <DarkThemeToggle />
                    </li>
                </ul>




            </div>

            <!-- sidebar buttons -->
            <div class="sidebar-buttons">
                <a href="#" class="button">
                    <ion-icon name="person-outline"></ion-icon>
                </a>
                <a href="#" class="button">
                    <ion-icon name="archive-outline"></ion-icon>
                </a>
                <a href="#" class="button">
                    <ion-icon name="settings-outline"></ion-icon>
                </a>
                <a href="#" class="button">
                    <ion-icon name="log-out-outline"></ion-icon>
                </a>
            </div>
            <!-- * sidebar buttons -->
        </div>
    </div>
</div>
<!-- * App Sidebar -->

@code
{
    [Parameter]
    public string AvatarImage { get; set; }

    [Parameter]
    public string UserName { get; set; }

    private async Task loadUserData()
    {
        UserName = await localStorage.GetItemAsync<string>("userName");
        AvatarImage = await localStorage.GetItemAsync<string>("userImage");
    }

    protected override async Task OnInitializedAsync()
    {
        await loadUserData();

        await base.OnInitializedAsync();
    }
}